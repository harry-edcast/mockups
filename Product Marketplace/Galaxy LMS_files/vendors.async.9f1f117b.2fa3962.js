(window.wpJsonpFlightsWidget=window.wpJsonpFlightsWidget||[]).push([[31],{BeTU:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,s=i("M66F"),r=i("RDAV"),o=i("M66F"),n=i("Bq34").byEbmlID;!function(t){t[t.STATE_TAG=1]="STATE_TAG",t[t.STATE_SIZE=2]="STATE_SIZE",t[t.STATE_CONTENT=3]="STATE_CONTENT"}(a||(a={}));var c=function(){function t(){this._buffer=new s.Buffer(0),this._tag_stack=[],this._state=a.STATE_TAG,this._cursor=0,this._total=0,this._schema=n,this._result=[]}return t.prototype.decode=function(t){this.readChunk(t);var e=this._result;return this._result=[],e},t.prototype.readChunk=function(t){for(this._buffer=o.concat([this._buffer,new s.Buffer(t)]);this._cursor<this._buffer.length&&(this._state!==a.STATE_TAG||this.readTag())&&(this._state!==a.STATE_SIZE||this.readSize())&&(this._state!==a.STATE_CONTENT||this.readContent()););},t.prototype.getSchemaInfo=function(t){return this._schema[t]||{name:"unknown",level:-1,type:"unknown",description:"unknown"}},t.prototype.readTag=function(){if(this._cursor>=this._buffer.length)return!1;var t=s.readVint(this._buffer,this._cursor);if(null==t)return!1;var e=this._buffer.slice(this._cursor,this._cursor+t.length).reduce((function(t,e,i,a){return t+e*Math.pow(16,2*(a.length-1-i))}),0),i=this.getSchemaInfo(e),r={EBML_ID:e.toString(16),schema:i,type:i.type,name:i.name,level:i.level,tagStart:this._total,tagEnd:this._total+t.length,sizeStart:this._total+t.length,sizeEnd:null,dataStart:null,dataEnd:null,dataSize:null,data:null};return this._tag_stack.push(r),this._cursor+=t.length,this._total+=t.length,this._state=a.STATE_SIZE,!0},t.prototype.readSize=function(){if(this._cursor>=this._buffer.length)return!1;var t=s.readVint(this._buffer,this._cursor);if(null==t)return!1;var e=this._tag_stack[this._tag_stack.length-1];return e.sizeEnd=e.sizeStart+t.length,e.dataStart=e.sizeEnd,e.dataSize=t.value,-1===t.value?(e.dataEnd=-1,"m"===e.type&&(e.unknownSize=!0)):e.dataEnd=e.sizeEnd+t.value,this._cursor+=t.length,this._total+=t.length,this._state=a.STATE_CONTENT,!0},t.prototype.readContent=function(){var t=this._tag_stack[this._tag_stack.length-1];if("m"===t.type){if(t.isEnd=!1,this._result.push(t),this._state=a.STATE_TAG,0===t.dataSize){var e=Object.assign({},t,{isEnd:!0});this._result.push(e),this._tag_stack.pop()}return!0}if(this._buffer.length<this._cursor+t.dataSize)return!1;var i=this._buffer.slice(this._cursor,this._cursor+t.dataSize);switch(this._buffer=this._buffer.slice(this._cursor+t.dataSize),t.data=i,t.type){case"u":t.value=i.readUIntBE(0,i.length);break;case"i":t.value=i.readIntBE(0,i.length);break;case"f":t.value=4===t.dataSize?i.readFloatBE(0):8===t.dataSize?i.readDoubleBE(0):(console.warn("cannot read "+t.dataSize+" octets float. failback to 0"),0);break;case"s":t.value=i.toString("ascii");break;case"8":t.value=i.toString("utf8");break;case"b":t.value=i;break;case"d":t.value=s.convertEBMLDateToJSDate(new r.Int64BE(i).toNumber())}if(null===t.value)throw new Error("unknown tag type:"+t.type);for(this._result.push(t),this._total+=t.dataSize,this._state=a.STATE_TAG,this._cursor=0,this._tag_stack.pop();this._tag_stack.length>0;){var o=this._tag_stack[this._tag_stack.length-1];if(o.dataEnd<0)return this._tag_stack.pop(),!0;if(this._total<o.dataEnd)break;if("m"!==o.type)throw new Error("parent element is not master element");e=Object.assign({},o,{isEnd:!0});this._result.push(e),this._tag_stack.pop()}return!0},t}();e.default=c},NRBE:function(t,e,i){"use strict";var a,s=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i("wysr"),o=i("M66F"),n=function(t){function e(){var e=t.call(this)||this;return e.logGroup="",e.hasLoggingStarted=!1,e.metadataloaded=!1,e.chunks=[],e.stack=[],e.segmentOffset=0,e.last2SimpleBlockVideoTrackTimecode=[0,0],e.last2SimpleBlockAudioTrackTimecode=[0,0],e.lastClusterTimecode=0,e.lastClusterPosition=0,e.timecodeScale=1e6,e.metadataSize=0,e.metadatas=[],e.cues=[],e.firstVideoBlockRead=!1,e.firstAudioBlockRead=!1,e.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null},e.trackTypes=[],e.trackDefaultDuration=[],e.trackCodecDelay=[],e.trackInfo={type:"nothing"},e.ended=!1,e.logging=!1,e.use_duration_every_simpleblock=!1,e.use_webp=!1,e.use_segment_info=!0,e.drop_default_duration=!0,e}return s(e,t),e.prototype.stop=function(){for(this.ended=!0,this.emit_segment_info();this.stack.length;)this.stack.pop(),this.logging&&console.groupEnd();this.logging&&this.hasLoggingStarted&&this.logGroup&&console.groupEnd()},e.prototype.emit_segment_info=function(){var t=this.chunks;if(this.chunks=[],this.metadataloaded){if(!this.use_segment_info)return;var e=this.lastClusterTimecode,i=this.duration,a=this.timecodeScale;this.emit("cluster",{timecode:e,data:t}),this.emit("duration",{timecodeScale:a,duration:i})}else{this.metadataloaded=!0,this.metadatas=t;var s=this.trackTypes.indexOf(1),r=this.trackTypes.indexOf(2);if(this.trackInfo=s>=0&&r>=0?{type:"both",trackNumber:s}:s>=0?{type:"video",trackNumber:s}:r>=0?{type:"audio",trackNumber:r}:{type:"nothing"},!this.use_segment_info)return;this.emit("metadata",{data:t,metadataSize:this.metadataSize})}},e.prototype.read=function(t){var e=this,i=!1;if(!this.ended){if("m"===t.type)if(t.isEnd)this.stack.pop();else{var a=this.stack[this.stack.length-1];if(null!=a&&a.level>=t.level){this.stack.pop(),this.logging&&console.groupEnd(),a.dataEnd=t.dataEnd,a.dataSize=t.dataEnd-a.dataStart,a.unknownSize=!1;var s=Object.assign({},a,{name:a.name,type:a.type,isEnd:!0});this.chunks.push(s)}this.stack.push(t)}if("m"===t.type&&"Segment"==t.name)0!=this.segmentOffset&&console.warn("Multiple segments detected!"),this.segmentOffset=t.dataStart,this.emit("segment_offset",this.segmentOffset);else if("b"===t.type&&"SimpleBlock"===t.name){var r=o.ebmlBlock(t.data),n=r.timecode,c=r.trackNumber,u=r.frames;if(1===this.trackTypes[c]){if(!this.firstVideoBlockRead&&(this.firstVideoBlockRead=!0,"both"===this.trackInfo.type||"video"===this.trackInfo.type)){var l=this.lastClusterTimecode+n;this.cues.push({CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:l}),this.emit("cue_info",{CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:l})}this.last2SimpleBlockVideoTrackTimecode=[this.last2SimpleBlockVideoTrackTimecode[1],n]}else if(2===this.trackTypes[c]){if(!this.firstAudioBlockRead&&(this.firstAudioBlockRead=!0,"audio"===this.trackInfo.type)){l=this.lastClusterTimecode+n;this.cues.push({CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:l}),this.emit("cue_info",{CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:l})}this.last2SimpleBlockAudioTrackTimecode=[this.last2SimpleBlockAudioTrackTimecode[1],n]}this.use_duration_every_simpleblock&&this.emit("duration",{timecodeScale:this.timecodeScale,duration:this.duration}),this.use_webp&&u.forEach((function(t){if("9d012a"===t.slice(3,6).toString("hex")){var i=o.VP8BitStreamToRiffWebPBuffer(t),a=new Blob([i],{type:"image/webp"}),s=e.duration;e.emit("webp",{currentTime:s,webp:a})}}))}else"m"===t.type&&"Cluster"===t.name&&!1===t.isEnd?(this.firstVideoBlockRead=!1,this.firstAudioBlockRead=!1,this.emit_segment_info(),this.emit("cluster_ptr",t.tagStart),this.lastClusterPosition=t.tagStart):"u"===t.type&&"Timecode"===t.name?this.lastClusterTimecode=t.value:"u"===t.type&&"TimecodeScale"===t.name?this.timecodeScale=t.value:"m"===t.type&&"TrackEntry"===t.name?t.isEnd?(this.trackTypes[this.currentTrack.TrackNumber]=this.currentTrack.TrackType,this.trackDefaultDuration[this.currentTrack.TrackNumber]=this.currentTrack.DefaultDuration,this.trackCodecDelay[this.currentTrack.TrackNumber]=this.currentTrack.CodecDelay):this.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null}:"u"===t.type&&"TrackType"===t.name?this.currentTrack.TrackType=t.value:"u"===t.type&&"TrackNumber"===t.name?this.currentTrack.TrackNumber=t.value:"u"===t.type&&"CodecDelay"===t.name?this.currentTrack.CodecDelay=t.value:"u"===t.type&&"DefaultDuration"===t.name?this.drop_default_duration?(console.warn("DefaultDuration detected!, remove it"),i=!0):this.currentTrack.DefaultDuration=t.value:"unknown"===t.name&&console.warn(t);!this.metadataloaded&&t.dataEnd>0&&(this.metadataSize=t.dataEnd),i||this.chunks.push(t),this.logging&&this.put(t)}},Object.defineProperty(e.prototype,"duration",{get:function(){if("nothing"===this.trackInfo.type)return console.warn("no video, no audio track"),0;var t=0,e=0,i=0,a=this.trackDefaultDuration[this.trackInfo.trackNumber];if("number"==typeof a)t=a;else if("both"===this.trackInfo.type)this.last2SimpleBlockAudioTrackTimecode[1]>this.last2SimpleBlockVideoTrackTimecode[1]?(t=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale,"number"==typeof(s=this.trackCodecDelay[this.trackTypes.indexOf(2)])&&(e=s),i=this.last2SimpleBlockAudioTrackTimecode[1]):(t=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale,"number"==typeof(s=this.trackCodecDelay[this.trackTypes.indexOf(1)])&&(e=s),i=this.last2SimpleBlockVideoTrackTimecode[1]);else if("video"===this.trackInfo.type){t=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale,"number"==typeof(s=this.trackCodecDelay[this.trackInfo.trackNumber])&&(e=s),i=this.last2SimpleBlockVideoTrackTimecode[1]}else if("audio"===this.trackInfo.type){var s;t=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale,"number"==typeof(s=this.trackCodecDelay[this.trackInfo.trackNumber])&&(e=s),i=this.last2SimpleBlockAudioTrackTimecode[1]}var r=((this.lastClusterTimecode+i)*this.timecodeScale+t-e)/this.timecodeScale;return Math.floor(r)},enumerable:!0,configurable:!0}),e.prototype.addListener=function(e,i){return t.prototype.addListener.call(this,e,i)},e.prototype.put=function(t){this.hasLoggingStarted||(this.hasLoggingStarted=!0,this.logging&&this.logGroup&&console.groupCollapsed(this.logGroup)),"m"===t.type?t.isEnd?console.groupEnd():console.group(t.name+":"+t.tagStart):"b"===t.type?console.log(t.name,t.type):console.log(t.name,t.tagStart,t.type,t.value)},e}(r.EventEmitter);e.default=n},YLzb:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("M66F"),s=i("M66F"),r=i("Bq34").byEbmlID,o=function(){function t(){this._schema=r,this._buffers=[],this._stack=[]}return t.prototype.encode=function(t){var e=this;return a.concat(t.reduce((function(t,i){return t.concat(e.encodeChunk(i))}),[])).buffer},t.prototype.encodeChunk=function(t){return"m"===t.type?t.isEnd?this.endTag(t):this.startTag(t):this.writeTag(t),this.flush()},t.prototype.flush=function(){var t=this._buffers;return this._buffers=[],t},t.prototype.getSchemaInfo=function(t){for(var e=Object.keys(this._schema).map(Number),i=0;i<e.length;i++){var a=e[i];if(this._schema[a].name===t)return new s.Buffer(a.toString(16),"hex")}return null},t.prototype.writeTag=function(t){var e=t.name,i=this.getSchemaInfo(e),s=t.data;if(null==i)throw new Error("No schema entry found for "+e);var r=a.encodeTag(i,s);this._stack.length>0?this._stack[this._stack.length-1].children.push({tagId:i,elm:t,children:[],data:r}):this._buffers=this._buffers.concat(r)},t.prototype.startTag=function(t){var e=t.name,i=this.getSchemaInfo(e);if(null==i)throw new Error("No schema entry found for "+e);if(t.unknownSize){var r=a.encodeTag(i,new s.Buffer(0),t.unknownSize);this._buffers=this._buffers.concat(r)}else{var o={tagId:i,elm:t,children:[],data:null};this._stack.length>0&&this._stack[this._stack.length-1].children.push(o),this._stack.push(o)}},t.prototype.endTag=function(t){t.name;var e=this._stack.pop();if(null==e)throw new Error("EBML structure is broken");if(e.elm.name!==t.name)throw new Error("EBML structure is broken");var i=e.children.reduce((function(t,e){if(null===e.data)throw new Error("EBML structure is broken");return t.concat(e.data)}),[]),s=a.concat(i);"m"===e.elm.type?e.data=a.encodeTag(e.tagId,s,e.elm.unknownSize):e.data=a.encodeTag(e.tagId,s),this._stack.length<1&&(this._buffers=this._buffers.concat(e.data))},t}();e.default=o}}]);