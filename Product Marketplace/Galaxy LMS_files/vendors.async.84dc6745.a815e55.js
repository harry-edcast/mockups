(window.wpJsonpFlightsWidget=window.wpJsonpFlightsWidget||[]).push([[26],{FC6E:function(e,a,s){var t=s("EP3Q"),_=t.System,r=t.VbrMode,n=(t.Float,t.ShortBlock),i=(t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double,t.new_float),o=(t.new_float_n,t.new_int,t.new_int_n),l=t.new_short_n,p=t.assert,f=s("MP4T"),u=s("Jibw"),m=s("L+xm"),b=s("labX"),h=s("WZFL"),c=s("fWxf"),d=s("ldQc"),g=s("wO76"),R=s("Ypbz");e.exports=function e(){var a,s,t,w,v,B=this;e.V9=410,e.V8=420,e.V7=430,e.V6=440,e.V5=450,e.V4=460,e.V3=470,e.V2=480,e.V1=490,e.V0=500,e.R3MIX=1e3,e.STANDARD=1001,e.EXTREME=1002,e.INSANE=1003,e.STANDARD_FAST=1004,e.EXTREME_FAST=1005,e.MEDIUM=1006,e.MEDIUM_FAST=1007,e.LAME_MAXMP3BUFFER=147456;var V,k,M,y=new f;function A(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(R.SBMAX_l),this.bo_s_weight=i(R.SBMAX_s)}function E(){this.lowerlimit=0}function T(e,a){this.lowpass=a}function S(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function q(e,a){switch(e){case 44100:return a.version=1,0;case 48e3:return a.version=1,1;case 32e3:return a.version=1,2;case 22050:return a.version=0,0;case 24e3:return a.version=0,1;case 16e3:return a.version=0,2;case 11025:return a.version=0,0;case 12e3:return a.version=0,1;case 8e3:return a.version=0,2;default:return a.version=0,-1}}function x(e,a,s){s<16e3&&(a=2);for(var t=g.bitrate_table[a][1],_=2;_<=14;_++)g.bitrate_table[a][_]>0&&Math.abs(g.bitrate_table[a][_]-e)<Math.abs(t-e)&&(t=g.bitrate_table[a][_]);return t}function P(e,a,s){s<16e3&&(a=2);for(var t=0;t<=14;t++)if(g.bitrate_table[a][t]>0&&g.bitrate_table[a][t]==e)return t;return-1}function I(e,a){var s=[new T(8,2e3),new T(16,3700),new T(24,3900),new T(32,5500),new T(40,7e3),new T(48,7500),new T(56,1e4),new T(64,11e3),new T(80,13500),new T(96,15100),new T(112,15600),new T(128,17e3),new T(160,17500),new T(192,18600),new T(224,19400),new T(256,19700),new T(320,20500)],t=B.nearestBitrateFullIndex(a);e.lowerlimit=s[t].lowpass}function N(e){var a=R.BLKSIZE+e.framesize-R.FFTOFFSET;return a=Math.max(a,512+e.framesize-32),p(m.MFSIZE>=a),a}function F(e,a,s,t,_,r){var n=B.enc.lame_encode_mp3_frame(e,a,s,t,_,r);return e.frameNum++,n}function L(){this.n_in=0,this.n_out=0}function z(){this.num_used=0}function Y(e,a,s){var t=Math.PI*a;(e/=s)<0&&(e=0),e>1&&(e=1);var _=e-.5,r=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(_)<1e-9?t/Math.PI:r*Math.sin(s*t*_)/(Math.PI*s*_)}function G(e,a,s,t,_,r,n,o,l){var f,u,b=e.internal_flags,h=0,c=e.out_samplerate/function e(a,s){return 0!=s?e(s,a%s):a}(e.out_samplerate,e.in_samplerate);c>m.BPC&&(c=m.BPC);var d=Math.abs(b.resample_ratio-Math.floor(.5+b.resample_ratio))<1e-4?1:0,g=1/b.resample_ratio;g>1&&(g=1);var R=31;0==R%2&&--R;var w=(R+=d)+1;if(0==b.fill_buffer_resample_init){for(b.inbuf_old[0]=i(w),b.inbuf_old[1]=i(w),f=0;f<=2*c;++f)b.blackfilt[f]=i(w);for(b.itime[0]=0,b.itime[1]=0,h=0;h<=2*c;h++){var v=0,B=(h-c)/(2*c);for(f=0;f<=R;f++)v+=b.blackfilt[h][f]=Y(f-B,g,R);for(f=0;f<=R;f++)b.blackfilt[h][f]/=v}b.fill_buffer_resample_init=1}var V=b.inbuf_old[l];for(u=0;u<t;u++){var k,M;if(k=u*b.resample_ratio,R+(h=0|Math.floor(k-b.itime[l]))-R/2>=n)break;B=k-b.itime[l]-(h+R%2*.5);p(Math.abs(B)<=.501),M=0|Math.floor(2*B*c+c+.5);var y=0;for(f=0;f<=R;++f){var A=0|f+h-R/2;p(A<n),p(A+w>=0),y+=(A<0?V[w+A]:_[r+A])*b.blackfilt[M][f]}a[s+u]=y}if(o.num_used=Math.min(n,R+h-R/2),b.itime[l]+=o.num_used-u*b.resample_ratio,o.num_used>=w)for(f=0;f<w;f++)V[f]=_[r+o.num_used+f-w];else{var E=w-o.num_used;for(f=0;f<E;++f)V[f]=V[f+o.num_used];for(h=0;f<w;++f,++h)V[f]=_[r+h];p(h==o.num_used)}return u}function O(e,a,s,t,_,r){var n=e.internal_flags;if(n.resample_ratio<.9999||n.resample_ratio>1.0001)for(var i=0;i<n.channels_out;i++){var o=new z;r.n_out=G(e,a[i],n.mf_size,e.framesize,s[i],t,_,o,i),r.n_in=o.num_used}else{r.n_out=Math.min(e.framesize,_),r.n_in=r.n_out;for(var l=0;l<r.n_out;++l)a[0][n.mf_size+l]=s[0][t+l],2==n.channels_out&&(a[1][n.mf_size+l]=s[1][t+l])}}this.enc=new R,this.setModules=function(e,_,r,n,i,o,l,p,f){a=e,s=_,t=r,w=n,v=i,V=o,l,k=p,M=f,this.enc.setModules(s,y,w,V)},this.lame_init=function(){var e=new u;return 0!=function(e){var a;return e.class_id=4294479419,a=e.internal_flags=new m,e.mode=MPEGMode.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,a.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=r.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,a.VBR_min_bitrate=1,a.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,a.resample_ratio=1,a.OldValue[0]=180,a.OldValue[1]=180,a.CurrentStep[0]=4,a.CurrentStep[1]=4,a.masking_lower=1,a.nsPsy.attackthre=-1,a.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,a.mf_samples_to_encode=R.ENCDELAY+R.POSTDELAY,e.encoder_padding=0,a.mf_size=R.ENCDELAY-R.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,a.decode_on_the_fly=!1,a.findReplayGain=!1,a.findPeakSample=!1,a.RadioGain=0,a.AudiophileGain=0,a.noclipGainChange=0,a.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,0}(e)?null:(e.lame_allocated_gfp=1,e)},this.nearestBitrateFullIndex=function(e){var a=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],s=0,t=0,_=0,r=0;r=a[16],_=16,t=a[16],s=16;for(var n=0;n<16;n++)if(Math.max(e,a[n+1])!=e){r=a[n+1],_=n+1,t=a[n],s=n;break}return r-e>e-t?s:_},this.lame_init_params=function(e){var i,l,u,m=e.internal_flags;if(m.Class_ID=0,null==m.ATH&&(m.ATH=new b),null==m.PSY&&(m.PSY=new A),null==m.rgdata&&(m.rgdata=new h),m.channels_in=e.num_channels,1==m.channels_in&&(e.mode=MPEGMode.MONO),m.channels_out=e.mode==MPEGMode.MONO?1:2,m.mode_ext=R.MPG_MD_MS_LR,e.mode==MPEGMode.MONO&&(e.force_ms=!1),e.VBR==r.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR==r.vbr_off||e.VBR==r.vbr_mtrh||e.VBR==r.vbr_mt||(e.free_format=!1),e.VBR==r.vbr_off&&0==e.brate&&d.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==r.vbr_off&&e.compression_ratio>0&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*m.channels_out/(1e3*e.compression_ratio),m.samplerate_index=q(e.out_samplerate,e),e.free_format||(e.brate=x(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var B=16e3;switch(e.VBR){case r.vbr_off:I(T=new E,e.brate),B=T.lowerlimit;break;case r.vbr_abr:var T;I(T=new E,e.VBR_mean_bitrate_kbps),B=T.lowerlimit;break;case r.vbr_rh:var N=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=e.VBR_q&&e.VBR_q<=9){var F=N[e.VBR_q],L=N[e.VBR_q+1],z=e.VBR_q_frac;B=linear_int(F,L,z)}else B=19500;break;default:N=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=e.VBR_q&&e.VBR_q<=9){F=N[e.VBR_q],L=N[e.VBR_q+1],z=e.VBR_q_frac;B=linear_int(F,L,z)}else B=19500}e.mode!=MPEGMode.MONO||e.VBR!=r.vbr_off&&e.VBR!=r.vbr_abr||(B*=1.5),e.lowpassfreq=0|B}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=(i=0|e.lowpassfreq,l=e.in_samplerate,u=44100,l>=48e3?u=48e3:l>=44100?u=44100:l>=32e3?u=32e3:l>=24e3?u=24e3:l>=22050?u=22050:l>=16e3?u=16e3:l>=12e3?u=12e3:l>=11025?u=11025:l>=8e3&&(u=8e3),-1==i?u:(i<=15960&&(u=44100),i<=15250&&(u=32e3),i<=11220&&(u=24e3),i<=9970&&(u=22050),i<=7230&&(u=16e3),i<=5420&&(u=12e3),i<=4510&&(u=11025),i<=3970&&(u=8e3),l<u?l>44100?48e3:l>32e3?44100:l>24e3?32e3:l>22050?24e3:l>16e3?22050:l>12e3?16e3:l>11025?12e3:l>8e3?11025:8e3:u))),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==r.vbr_off&&(e.compression_ratio=16*e.out_samplerate*m.channels_out/(1e3*e.brate)),e.VBR==r.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*m.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,m.findPeakSample=!1),m.findReplayGain=e.findReplayGain,m.decode_on_the_fly=e.decode_on_the_fly,m.decode_on_the_fly&&(m.findPeakSample=!0),m.findReplayGain&&a.InitGainAnalysis(m.rgdata,e.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(m.decode_on_the_fly&&!e.decode_only&&(null!=m.hip&&M.hip_decode_exit(m.hip),m.hip=M.hip_decode_init()),m.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*m.mode_gr,e.encoder_delay=R.ENCDELAY,m.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case r.vbr_mt:case r.vbr_rh:case r.vbr_mtrh:e.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][e.VBR_q];break;case r.vbr_abr:e.compression_ratio=16*e.out_samplerate*m.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*m.channels_out/(1e3*e.brate)}if(e.mode==MPEGMode.NOT_SET&&(e.mode=MPEGMode.JOINT_STEREO),e.highpassfreq>0?(m.highpass1=2*e.highpassfreq,e.highpasswidth>=0?m.highpass2=2*(e.highpassfreq+e.highpasswidth):m.highpass2=2*e.highpassfreq,m.highpass1/=e.out_samplerate,m.highpass2/=e.out_samplerate):(m.highpass1=0,m.highpass2=0),e.lowpassfreq>0?(m.lowpass2=2*e.lowpassfreq,e.lowpasswidth>=0?(m.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),m.lowpass1<0&&(m.lowpass1=0)):m.lowpass1=2*e.lowpassfreq,m.lowpass1/=e.out_samplerate,m.lowpass2/=e.out_samplerate):(m.lowpass1=0,m.lowpass2=0),function(e){var a=e.internal_flags,s=32,t=-1;if(a.lowpass1>0){for(var r=999,n=0;n<=31;n++){(p=n/31)>=a.lowpass2&&(s=Math.min(s,n)),a.lowpass1<p&&p<a.lowpass2&&(r=Math.min(r,n))}a.lowpass1=999==r?(s-.75)/31:(r-.75)/31,a.lowpass2=s/31}if(a.highpass2>0&&a.highpass2<.75/31*.9&&(a.highpass1=0,a.highpass2=0,_.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),a.highpass2>0){var i=-1;for(n=0;n<=31;n++){(p=n/31)<=a.highpass1&&(t=Math.max(t,n)),a.highpass1<p&&p<a.highpass2&&(i=Math.max(i,n))}a.highpass1=t/31,a.highpass2=-1==i?(t+.75)/31:(i+.75)/31}for(n=0;n<32;n++){var o,l,p=n/31;o=a.highpass2>a.highpass1?S((a.highpass2-p)/(a.highpass2-a.highpass1+1e-20)):1,l=a.lowpass2>a.lowpass1?S((p-a.lowpass1)/(a.lowpass2-a.lowpass1+1e-20)):1,a.amp_filter[n]=o*l}}(e),m.samplerate_index=q(e.out_samplerate,e),m.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==r.vbr_off){if(e.free_format)m.bitrate_index=0;else if(e.brate=x(e.brate,e.version,e.out_samplerate),m.bitrate_index=P(e.brate,e.version,e.out_samplerate),m.bitrate_index<=0)return e.internal_flags=null,-1}else m.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=m.pinfo&&(e.bWriteVbrTag=!1),s.init_bit_stream_w(m);for(var Y,G=m.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),O=0;O<R.SBMAX_l+1;O++)m.scalefac_band.l[O]=w.sfBandIndex[G].l[O];for(O=0;O<R.PSFB21+1;O++){var D=(m.scalefac_band.l[22]-m.scalefac_band.l[21])/R.PSFB21,C=m.scalefac_band.l[21]+O*D;m.scalefac_band.psfb21[O]=C}m.scalefac_band.psfb21[R.PSFB21]=576;for(O=0;O<R.SBMAX_s+1;O++)m.scalefac_band.s[O]=w.sfBandIndex[G].s[O];for(O=0;O<R.PSFB12+1;O++){D=(m.scalefac_band.s[13]-m.scalefac_band.s[12])/R.PSFB12,C=m.scalefac_band.s[12]+O*D;m.scalefac_band.psfb12[O]=C}for(m.scalefac_band.psfb12[R.PSFB12]=192,1==e.version?m.sideinfo_len=1==m.channels_out?21:36:m.sideinfo_len=1==m.channels_out?13:21,e.error_protection&&(m.sideinfo_len+=2),function(e){var a=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&k.id3tag_write_v2(e),a.bitrate_stereoMode_Hist=o([16,5]),a.bitrate_blockType_Hist=o([16,6]),a.PeakSample=0,e.bWriteVbrTag&&V.InitVbrTag(e)}(e),m.Class_ID=4294479419,Y=0;Y<19;Y++)m.nsPsy.pefirbuf[Y]=700*m.mode_gr*m.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),p(e.VBR_q<=9),p(e.VBR_q>=0),e.VBR){case r.vbr_mt:e.VBR=r.vbr_mtrh;case r.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),t.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),e.quality>5&&(e.quality=5),m.PSY.mask_adjust=e.maskingadjust,m.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?m.sfb21_extra=!1:m.sfb21_extra=e.out_samplerate>44e3,m.iteration_loop=new VBRNewIterationLoop(v);break;case r.vbr_rh:t.apply_preset(e,500-10*e.VBR_q,0),m.PSY.mask_adjust=e.maskingadjust,m.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?m.sfb21_extra=!1:m.sfb21_extra=e.out_samplerate>44e3,e.quality>6&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),m.iteration_loop=new VBROldIterationLoop(v);break;default:var j;m.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),(j=e.VBR)==r.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),t.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=j,m.PSY.mask_adjust=e.maskingadjust,m.PSY.mask_adjust_short=e.maskingadjust_short,j==r.vbr_off?m.iteration_loop=new c(v):m.iteration_loop=new ABRIterationLoop(v)}if(p(e.scale>=0),e.VBR!=r.vbr_off){if(m.VBR_min_bitrate=1,m.VBR_max_bitrate=14,e.out_samplerate<16e3&&(m.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=x(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),m.VBR_min_bitrate=P(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),m.VBR_min_bitrate<0))return-1;if(0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=x(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),m.VBR_max_bitrate=P(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),m.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=g.bitrate_table[e.version][m.VBR_min_bitrate],e.VBR_max_bitrate_kbps=g.bitrate_table[e.version][m.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(g.bitrate_table[e.version][m.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(g.bitrate_table[e.version][m.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}return e.tune&&(m.PSY.mask_adjust+=e.tune_value_a,m.PSY.mask_adjust_short+=e.tune_value_a),function(e){var a=e.internal_flags;switch(e.quality){default:case 9:a.psymodel=0,a.noise_shaping=0,a.noise_shaping_amp=0,a.noise_shaping_stop=0,a.use_best_huffman=0,a.full_outer_loop=0;break;case 8:e.quality=7;case 7:a.psymodel=1,a.noise_shaping=0,a.noise_shaping_amp=0,a.noise_shaping_stop=0,a.use_best_huffman=0,a.full_outer_loop=0;break;case 6:case 5:a.psymodel=1,0==a.noise_shaping&&(a.noise_shaping=1),a.noise_shaping_amp=0,a.noise_shaping_stop=0,-1==a.subblock_gain&&(a.subblock_gain=1),a.use_best_huffman=0,a.full_outer_loop=0;break;case 4:a.psymodel=1,0==a.noise_shaping&&(a.noise_shaping=1),a.noise_shaping_amp=0,a.noise_shaping_stop=0,-1==a.subblock_gain&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0;break;case 3:a.psymodel=1,0==a.noise_shaping&&(a.noise_shaping=1),a.noise_shaping_amp=1,a.noise_shaping_stop=1,-1==a.subblock_gain&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0;break;case 2:a.psymodel=1,0==a.noise_shaping&&(a.noise_shaping=1),0==a.substep_shaping&&(a.substep_shaping=2),a.noise_shaping_amp=1,a.noise_shaping_stop=1,-1==a.subblock_gain&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0;break;case 1:case 0:a.psymodel=1,0==a.noise_shaping&&(a.noise_shaping=1),0==a.substep_shaping&&(a.substep_shaping=2),a.noise_shaping_amp=2,a.noise_shaping_stop=1,-1==a.subblock_gain&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0}}(e),p(e.scale>=0),e.athaa_type<0?m.ATH.useAdjust=3:m.ATH.useAdjust=e.athaa_type,m.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=n.short_block_allowed),e.short_blocks!=n.short_block_allowed||e.mode!=MPEGMode.JOINT_STEREO&&e.mode!=MPEGMode.STEREO||(e.short_blocks=n.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=f.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=f.NSATTACKTHRE_S),p(e.scale>=0),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),m.slot_lag=m.frac_SpF=0,e.VBR==r.vbr_off&&(m.slot_lag=m.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),w.iteration_init(e),y.psymodel_init(e),p(e.scale>=0),0},this.lame_encode_flush=function(e,a,t,_){var r,n,i,o,p=e.internal_flags,f=l([2,1152]),u=0,m=p.mf_samples_to_encode-R.POSTDELAY,b=N(e);if(p.mf_samples_to_encode<1)return 0;for(r=0,e.in_samplerate!=e.out_samplerate&&(m+=16*e.out_samplerate/e.in_samplerate),(i=e.framesize-m%e.framesize)<576&&(i+=e.framesize),e.encoder_padding=i,o=(m+i)/e.framesize;o>0&&u>=0;){var h=b-p.mf_size,c=e.frameNum;h*=e.in_samplerate,(h/=e.out_samplerate)>1152&&(h=1152),h<1&&(h=1),n=_-r,0==_&&(n=0),t+=u=this.lame_encode_buffer(e,f[0],f[1],h,a,t,n),r+=u,o-=c!=e.frameNum?1:0}if(p.mf_samples_to_encode=0,u<0)return u;if(n=_-r,0==_&&(n=0),s.flush_bitstream(e),(u=s.copy_buffer(p,a,t,n,1))<0)return u;if(t+=u,n=_-(r+=u),0==_&&(n=0),e.write_id3tag_automatic){if(k.id3tag_write_v1(e),(u=s.copy_buffer(p,a,t,n,0))<0)return u;r+=u}return r},this.lame_encode_buffer=function(e,t,_,r,n,o,l){var f=e.internal_flags,u=[null,null];if(4294479419!=f.Class_ID)return-3;if(0==r)return 0;!function(e,a){(null==e.in_buffer_0||e.in_buffer_nsamples<a)&&(e.in_buffer_0=i(a),e.in_buffer_1=i(a),e.in_buffer_nsamples=a)}(f,r),u[0]=f.in_buffer_0,u[1]=f.in_buffer_1;for(var b=0;b<r;b++)u[0][b]=t[b],f.channels_in>1&&(u[1][b]=_[b]);return function(e,t,_,r,n,i,o){var l,f,u,b,h,c=e.internal_flags,g=0,w=[null,null],v=[null,null];if(4294479419!=c.Class_ID)return-3;if(0==r)return 0;if((h=s.copy_buffer(c,n,i,o,0))<0)return h;if(i+=h,g+=h,v[0]=t,v[1]=_,d.NEQ(e.scale,0)&&d.NEQ(e.scale,1))for(f=0;f<r;++f)v[0][f]*=e.scale,2==c.channels_out&&(v[1][f]*=e.scale);if(d.NEQ(e.scale_left,0)&&d.NEQ(e.scale_left,1))for(f=0;f<r;++f)v[0][f]*=e.scale_left;if(d.NEQ(e.scale_right,0)&&d.NEQ(e.scale_right,1))for(f=0;f<r;++f)v[1][f]*=e.scale_right;if(2==e.num_channels&&1==c.channels_out)for(f=0;f<r;++f)v[0][f]=.5*(v[0][f]+v[1][f]),v[1][f]=0;b=N(e),w[0]=c.mfbuf[0],w[1]=c.mfbuf[1];var B=0;for(;r>0;){var V,k,M=[null,null];M[0]=v[0],M[1]=v[1];var y=new L;if(O(e,w,M,B,r,y),V=y.n_in,k=y.n_out,c.findReplayGain&&!c.decode_on_the_fly&&a.AnalyzeSamples(c.rgdata,w[0],c.mf_size,w[1],c.mf_size,k,c.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(r-=V,B+=V,c.channels_out,c.mf_size+=k,p(c.mf_size<=m.MFSIZE),c.mf_samples_to_encode<1&&(c.mf_samples_to_encode=R.ENCDELAY+R.POSTDELAY),c.mf_samples_to_encode+=k,c.mf_size>=b){var A=o-g;if(0==o&&(A=0),(l=F(e,w[0],w[1],n,i,A))<0)return l;for(i+=l,g+=l,c.mf_size-=e.framesize,c.mf_samples_to_encode-=e.framesize,u=0;u<c.channels_out;u++)for(f=0;f<c.mf_size;f++)w[u][f]=w[u][f+e.framesize]}}return p(0==r),g}(e,u[0],u[1],r,n,o,l)}}}}]);