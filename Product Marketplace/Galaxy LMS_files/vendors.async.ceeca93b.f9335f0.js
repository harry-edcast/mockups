(window.wpJsonpFlightsWidget=window.wpJsonpFlightsWidget||[]).push([[44],{DJUo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("BeTU");t.Decoder=r.default;var a=n("YLzb");t.Encoder=a.default;var i=n("NRBE");t.Reader=i.default;var s=n("M66F");t.tools=s;var o=n("IaZ7").version;t.version=o},IaZ7:function(e){e.exports=JSON.parse('{"name":"ts-ebml","version":"2.0.2","description":"ebml decoder and encoder","scripts":{"setup":"npm install -g http-server;","init":"npm run update; npm run mkdir; npm run build","update":"npm run reset; npm update","reset":"rm -rf node_modules","mkdir":"mkdir lib dist 2>/dev/null","clean":"rm -rf lib/* dist/* test/*.js; mkdir -p dist","build":"npm run clean   && tsc    -p .; npm run browserify","start":"http-server . -s & tsc -w -p .& watchify lib/example_seekable.js -o test/example_seekable.js","stop":"killall -- node */tsc -w -p","browserify":"browserify lib/index.js --standalone EBML -o dist/EBML.js","watchify":"watchify lib/index.js --standalone EBML -o dist/EBMl.js -v","test":"tsc; espower lib/test.js > lib/test.tmp; mv -f lib/test.tmp lib/test.js; browserify lib/test.js -o test/test.js","example":"tsc; browserify lib/example_seekable.js -o test/example_seekable.js","examples":"tsc; for file in `find lib -name \'example_*.js\' -type f -printf \'%f\\\\n\'`; do browserify lib/$file -o test/$file; done","examples_bsd":"tsc; for file in `find lib -name \'example_*.js\' -type f -print`; do browserify lib/$(basename $file) -o test/$(basename $file); done","check":"tsc -w --noEmit -p ./","lint":"tslint -c ./tslint.json --project ./tsconfig.json --type-check","doc":"typedoc --mode modules --out doc --disableOutputCheck"},"repository":{"type":"git","url":"git+https://github.com/legokichi/ts-ebml.git"},"keywords":["ebml","webm","mkv","matrosika","webp"],"author":"legokichi duckscallion","license":"MIT","bugs":{"url":"https://github.com/legokichi/ts-ebml/issues"},"homepage":"https://github.com/legokichi/ts-ebml#readme","dependencies":{"buffer":"^5.0.7","commander":"^2.11.0","ebml":"^2.2.1","ebml-block":"^1.1.0","events":"^1.1.1","int64-buffer":"^0.1.9","matroska":"^2.2.3"},"devDependencies":{"@types/commander":"^2.9.1","@types/qunit":"^2.0.31","browserify":"^13.1.0","empower":"^1.2.3","espower-cli":"^1.1.0","power-assert":"^1.4.4","power-assert-formatter":"^1.4.1","qunit-tap":"^1.5.1","qunitjs":"^2.4.0","tslint":"^3.15.1","typedoc":"^0.5.3","typescript":"^2.4.2","watchify":"^3.7.0"},"bin":"./lib/cli.js","main":"./lib/index.js","typings":"./lib/index.d.ts"}')},M66F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("RDAV"),a=n("YLzb"),i=n("mmbr"),s=n("wARY"),o=n("l2sz");function u(e){return e.reduce((function(e,n){return"b"!==n.type||"SimpleBlock"!==n.name?e:t.ebmlBlock(n.data).frames.some((function(e){return"9d012a"===e.slice(3,6).toString("hex")}))?e.concat(n):e}),[])}function f(e){var n=c("VP8 ",e);return c("RIFF",h([new t.Buffer("WEBP","ascii"),n]))}function c(e,n){var r=new t.Buffer(4);return r.writeUInt32LE(n.byteLength,0),h([new t.Buffer(e.substr(0,4),"ascii"),r,n,new t.Buffer(n.byteLength%2==0?0:1)])}function p(e,t){for(var n=-1,r=0;r<t.length;r++){var a=t[r];if(a.name===e){if("m"!==a.type)return void t.splice(r,1);if(a.isEnd){if(-1==n)throw new Error("Detected "+e+" closing element before finding the start");return void t.splice(n,r-n+1)}n=r}}}function d(e,t){for(var n=[],r=-1,a=0;a<t.length;a++){var i=t[a];if(i.name===e){if("m"!==i.type){n.push(t[a]);break}if(i.isEnd){if(-1==r)throw new Error("Detected "+e+" closing element before finding the start");n=t.slice(r,a+1);break}r=a}}return n}function m(e){var t=new a.default;return e.reduce((function(e,n){return e.concat(t.encode([n]))}),[]).reduce((function(e,t){return e+t.byteLength}),0)}function l(e,n,r){var a=r.duration,i=r.clusterPtrs,s=r.cues,o=e.slice(0);if("number"==typeof a){var u=!1;o.forEach((function(e){"f"===e.type&&"Duration"===e.name&&(u=!0,e.data=k(a,8))})),u||b(o,"Info",[{name:"Duration",type:"f",data:k(a,8)}])}Array.isArray(s)&&b(o,"Cues",function(e,t){var n=[];return e.forEach((function(e){var r=e.CueTrack,a=e.CueClusterPosition,i=e.CueTime;n.push({name:"CuePoint",type:"m",isEnd:!1}),n.push({name:"CueTime",type:"u",data:y(i)}),n.push({name:"CueTrackPositions",type:"m",isEnd:!1}),n.push({name:"CueTrack",type:"u",data:y(r)}),n.push({name:"CueClusterPosition",type:"u",data:y(a+t)}),n.push({name:"CueTrackPositions",type:"m",isEnd:!0}),n.push({name:"CuePoint",type:"m",isEnd:!0})})),n}(s,n));var f=[];return Array.isArray(i)&&(console.warn("append cluster pointers to seekhead is deprecated. please use cues"),f=function(e,n){var r=[];return e.forEach((function(e){r.push({name:"Seek",type:"m",isEnd:!1}),r.push({name:"SeekID",type:"b",data:new t.Buffer([31,67,182,117])}),r.push({name:"SeekPosition",type:"u",data:y(e+n)}),r.push({name:"Seek",type:"m",isEnd:!0})})),r}(i,n)),b(o,"SeekHead",f,!0),o}function b(e,t,n,r){void 0===r&&(r=!1);for(var a=-1,i=0;i<e.length;i++){var s=e[i];if("m"===s.type&&s.name===t&&!1===s.isEnd){a=i;break}}a>=0?Array.prototype.splice.apply(e,[a+1,0].concat(n)):r?[].concat([{name:t,type:"m",isEnd:!1}],n,[{name:t,type:"m",isEnd:!0}]).reverse().forEach((function(t){e.unshift(t)})):(e.push({name:t,type:"m",isEnd:!1}),n.forEach((function(t){e.push(t)})),e.push({name:t,type:"m",isEnd:!0}))}function h(e){for(var n=0,r=0;n<e.length;++n)r+=e[n].length;var a=t.Buffer.allocUnsafe(r),i=0;for(n=0;n<e.length;++n){var s=e[n];s.copy(a,i),i+=s.length}return a}function y(e){for(var n=1;e>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new r.Uint64BE(e).toBuffer();var a=new t.Buffer(n);return a.writeUIntBE(e,0,n),a}function w(e){for(var n=1;e>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new r.Int64BE(e).toBuffer();var a=new t.Buffer(n);return a.writeIntBE(e,0,n),a}function k(e,n){var r;if(void 0===n&&(n=8),8===n)return(r=new t.Buffer(8)).writeDoubleBE(e,0),r;if(4===n)return(r=new t.Buffer(4)).writeFloatBE(e,0),r;throw new Error("float type bits must 4bytes or 8bytes")}t.Buffer=i.Buffer,t.readVint=s.readVint,t.writeVint=s.writeVint,t.ebmlBlock=o,t.readBlock=function(e){return t.ebmlBlock(new t.Buffer(e))},t.encodeTag=function(e,n,r){return void 0===r&&(r=!1),h([e,r?new t.Buffer("01ffffffffffffff","hex"):t.writeVint(n.length),n])},t.WebPFrameFilter=function(e){return u(e).reduce((function(e,n){return t.ebmlBlock(n.data).frames.reduce((function(e,t){var n=f(t),r=new Blob([n],{type:"image/webp"});return e.concat(r)}),e)}),[])},t.WebPBlockFilter=u,t.VP8BitStreamToRiffWebPBuffer=f,t.createRIFFChunk=c,t.makeMetadataSeekable=function(e,n,r){var i=d("EBML",e),s=m(i)+12,o=e[e.length-1].dataEnd-s,u=d("Info",e);p("Duration",u),u.splice(1,0,{name:"Duration",type:"f",data:k(n,8)});for(var f=m(u),c=d("Tracks",e),l=m(c),b=47,h=[],w=5+15*r.length,v=[],E=-1,g=function(e){var n=b,a=n+f,i=a+l,u=i+w-o;if((h=[]).push({name:"SeekHead",type:"m",isEnd:!1}),h.push({name:"Seek",type:"m",isEnd:!1}),h.push({name:"SeekID",type:"b",data:new t.Buffer([21,73,169,102])}),h.push({name:"SeekPosition",type:"u",data:y(n)}),h.push({name:"Seek",type:"m",isEnd:!0}),h.push({name:"Seek",type:"m",isEnd:!1}),h.push({name:"SeekID",type:"b",data:new t.Buffer([22,84,174,107])}),h.push({name:"SeekPosition",type:"u",data:y(a)}),h.push({name:"Seek",type:"m",isEnd:!0}),h.push({name:"Seek",type:"m",isEnd:!1}),h.push({name:"SeekID",type:"b",data:new t.Buffer([28,83,187,107])}),h.push({name:"SeekPosition",type:"u",data:y(i)}),h.push({name:"Seek",type:"m",isEnd:!0}),h.push({name:"SeekHead",type:"m",isEnd:!0}),b=m(h),(v=[]).push({name:"Cues",type:"m",isEnd:!1}),r.forEach((function(e){var t=e.CueTrack,n=e.CueClusterPosition,r=e.CueTime;v.push({name:"CuePoint",type:"m",isEnd:!1}),v.push({name:"CueTime",type:"u",data:y(r)}),v.push({name:"CueTrackPositions",type:"m",isEnd:!1}),v.push({name:"CueTrack",type:"u",data:y(t)}),n-=s,n+=u,v.push({name:"CueClusterPosition",type:"u",data:y(n)}),v.push({name:"CueTrackPositions",type:"m",isEnd:!0}),v.push({name:"CuePoint",type:"m",isEnd:!0})})),v.push({name:"Cues",type:"m",isEnd:!0}),w=m(v),E===u)return"break";if(E=u,9===e)throw new Error("Failed to converge to a stable metadata size")},B=0;B<10;B++){if("break"===g(B))break}var S=[].concat.apply([],[i,{name:"Segment",type:"m",isEnd:!1,unknownSize:!0},h,u,c,v]);return(new a.default).encode(S)},t.removeElement=p,t.extractElement=d,t.putRefinedMetaData=function(e,n){Array.isArray(n.cueInfos)&&!Array.isArray(n.cues)&&(console.warn("putRefinedMetaData: info.cueInfos property is deprecated. please use info.cues"),n.cues=n.cueInfos);for(var r=[],i=[],s=0;s<e.length;s++){var o=e[s];if("m"===o.type&&"Segment"===o.name){if(r=e.slice(0,s),i=e.slice(s),o.unknownSize){i.shift();break}throw new Error("this metadata is not streaming webm file")}}if(!(i[i.length-1].dataEnd>0))throw new Error("metadata dataEnd has wrong number");var u,f=i[i.length-1].dataEnd,c=r[r.length-1].dataEnd,p=(new a.default).encode(r).byteLength-c,d=f-i[0].tagStart,m=(i[0].tagStart,i[0].tagStart,new t.Buffer([24,83,128,103])),b=new t.Buffer("01ffffffffffffff","hex"),h=m.byteLength+b.byteLength,y=d;for(u=1;u<20;u++){var w=l(i,p+(c+h+y-f),n),k=(new a.default).encode(w).byteLength;if(k===y)return(new a.default).encode([].concat(r,[{type:"m",name:"Segment",isEnd:!1,unknownSize:!0}],w));y=k}throw new Error("unable to refine metadata, stable size could not be found in "+u+" iterations!")},t.concat=h,t.encodeValueToBuffer=function(e){var n=new t.Buffer(0);if("m"===e.type)return e;switch(e.type){case"u":n=y(e.value);break;case"i":n=w(e.value);break;case"f":n=k(e.value);break;case"s":n=new t.Buffer(e.value,"ascii");break;case"8":n=new t.Buffer(e.value,"utf8");break;case"b":n=e.value;break;case"d":n=new r.Int64BE(e.value.getTime().toString()).toBuffer()}return Object.assign({},e,{data:n})},t.createUIntBuffer=y,t.createIntBuffer=w,t.createFloatBuffer=k,t.convertEBMLDateToJSDate=function(e){return e instanceof Date?e:new Date(new Date("2001-01-01T00:00:00.000Z").getTime()+Number(e)/1e3/1e3)}}}]);